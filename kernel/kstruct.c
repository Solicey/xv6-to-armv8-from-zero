
#include "types.h"
#include "memlayout.h"
#include "mmu.h"

__attribute__((__aligned__(PG_SIZE)))
uint64 kpmddvc[512] =
{
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x0,
    0x8000000 | PDE_DEVICE,
    0x8200000 | PDE_DEVICE,
    0x8400000 | PDE_DEVICE,
    0x8600000 | PDE_DEVICE,
    0x8800000 | PDE_DEVICE,
    0x8a00000 | PDE_DEVICE,
    0x8c00000 | PDE_DEVICE,
    0x8e00000 | PDE_DEVICE,
    0x9000000 | PDE_DEVICE,
    0x9200000 | PDE_DEVICE,
    0x9400000 | PDE_DEVICE,
    0x9600000 | PDE_DEVICE,
    0x9800000 | PDE_DEVICE,
    0x9a00000 | PDE_DEVICE,
    0x9c00000 | PDE_DEVICE,
    0x9e00000 | PDE_DEVICE,
    0xa000000 | PDE_DEVICE,
    0xa200000 | PDE_DEVICE,
    0xa400000 | PDE_DEVICE,
    0xa600000 | PDE_DEVICE,
    0xa800000 | PDE_DEVICE,
    0xaa00000 | PDE_DEVICE,
    0xac00000 | PDE_DEVICE,
    0xae00000 | PDE_DEVICE
};

__attribute__((__aligned__(PG_SIZE)))
uint64 kpmdram[512] =
{
    0x40000000 | PDE_PAGE,
    0x40200000 | PDE_PAGE,
    0x40400000 | PDE_PAGE,
    0x40600000 | PDE_PAGE,
    0x40800000 | PDE_PAGE,
    0x40a00000 | PDE_PAGE,
    0x40c00000 | PDE_PAGE,
    0x40e00000 | PDE_PAGE,
    0x41000000 | PDE_PAGE,
    0x41200000 | PDE_PAGE,
    0x41400000 | PDE_PAGE,
    0x41600000 | PDE_PAGE,
    0x41800000 | PDE_PAGE,
    0x41a00000 | PDE_PAGE,
    0x41c00000 | PDE_PAGE,
    0x41e00000 | PDE_PAGE,
    0x42000000 | PDE_PAGE,
    0x42200000 | PDE_PAGE,
    0x42400000 | PDE_PAGE,
    0x42600000 | PDE_PAGE,
    0x42800000 | PDE_PAGE,
    0x42a00000 | PDE_PAGE,
    0x42c00000 | PDE_PAGE,
    0x42e00000 | PDE_PAGE,
    0x43000000 | PDE_PAGE,
    0x43200000 | PDE_PAGE,
    0x43400000 | PDE_PAGE,
    0x43600000 | PDE_PAGE,
    0x43800000 | PDE_PAGE,
    0x43a00000 | PDE_PAGE,
    0x43c00000 | PDE_PAGE,
    0x43e00000 | PDE_PAGE,
    0x44000000 | PDE_PAGE,
    0x44200000 | PDE_PAGE,
    0x44400000 | PDE_PAGE,
    0x44600000 | PDE_PAGE,
    0x44800000 | PDE_PAGE,
    0x44a00000 | PDE_PAGE,
    0x44c00000 | PDE_PAGE,
    0x44e00000 | PDE_PAGE,
    0x45000000 | PDE_PAGE,
    0x45200000 | PDE_PAGE,
    0x45400000 | PDE_PAGE,
    0x45600000 | PDE_PAGE,
    0x45800000 | PDE_PAGE,
    0x45a00000 | PDE_PAGE,
    0x45c00000 | PDE_PAGE,
    0x45e00000 | PDE_PAGE,
    0x46000000 | PDE_PAGE,
    0x46200000 | PDE_PAGE,
    0x46400000 | PDE_PAGE,
    0x46600000 | PDE_PAGE,
    0x46800000 | PDE_PAGE,
    0x46a00000 | PDE_PAGE,
    0x46c00000 | PDE_PAGE,
    0x46e00000 | PDE_PAGE,
    0x47000000 | PDE_PAGE,
    0x47200000 | PDE_PAGE,
    0x47400000 | PDE_PAGE,
    0x47600000 | PDE_PAGE,
    0x47800000 | PDE_PAGE,
    0x47a00000 | PDE_PAGE,
    0x47c00000 | PDE_PAGE,
    0x47e00000 | PDE_PAGE
};

__attribute__((__aligned__(PG_SIZE)))
uint64 kpud[512] =
{
    (uint64)kpmddvc + PDE_TABLE,
    (uint64)kpmdram + PDE_TABLE
};

__attribute__((__aligned__(PG_SIZE)))
uint64 kpgdir[512] =
{
    (uint64)kpud + PDE_TABLE
};

__attribute__((__aligned__(16)))
char kstack[KSTACK_SIZE];